% 酒的种类
close
clear
clc
% 29个样本，4类酒
P=[2232.43  3077.87  1298.87;1580.1   1752.07  2463.04;1962.4   1594.97  1835.95;1495.18  1957.44  3498.02;1125.17  1594.39  2937.73;
    24.22    3447.31  2145.01;1269.07  1910.72  2701.97;1802.07  1725.81  1966.35;1817.36  1927.4   2328.79;1860.45  1782.88  1875.13;
    1237.91  2055.13  3405.09;688.94   2104.72  3198.51;1675.65  1747.23  1580.39;1806.02  1810.19  2191.12;74.56    3288.02  2433.87;
    307.35   3363.84  2021.61 ; 1988.27  1657.51  2069.2  ;2173.92  2608.55  1803.57;372.16   3077.44  2163.46;576.6    2140.98  3320 ;
    1724.13  1704.49  1798.75;2501.21  2652.65  984.56;1656.94  1913.34  2459.07;362.51   3150.03  2472;565.74   2284.97  3024.58;
    1978.06  1536.13  2375.64 ; 1661.06  1552.4   2005.05;790.29   2419.98  3051.16;1557.27  1746.27  1879.13;]';
Tc = [2 3 3 1 1 4 1 3 3 3 1 1 3 3 4 4 3 2 4 1 3 2 3 4 1 3 3 1 3];
T = full(ind2vec(Tc));
spread = 30;
net = newpnn(P,T,spread);
T1 = vec2ind(net(P));
result = isequal(T1,Tc);

% 对其他数据进行分类
P1=[ 2793.36  3009.26  1073.55;1766.08	  1803.14  1895.18;1207.88	  1600.62  3123.07;245.75	  3373.67  2248.45;
    2785.36	  3052.81  1035.65;315.42	  3088.29  2187.12;1243.28	  2451.72  3111.99;829.84	  1555.91  3139.21;
    1347.07	  2364.31  3096.88;1926.98	  1507.34  1626.47;1808.57	  1608.78  1565.95;1124.1	  1840.98  2819.41;
    2661	  3302.39  1710.32;1805.55	  1899.09  2400.6;1130.18	  1902.42  2753.7;1355.19	  1566.16  2927.81;
    1651.14	  1774.03  1725.56;2110.63	  3308.04  702.06;2788.11	  3395.23  1684.45;1807.61	  1680.56  2356.65;
    1363.58	  1729.44  2749.55;1992.42	  1526.9   1581.42;]';

T_test = vec2ind(net(P1));

% 画图
for i = 1 : 29
    if Tc(i) == 1
        h = scatter3(P(1,i),P(2,i),P(3,i),50,'filled');
        h.CData = [1 0 0]; % 红色是第一类
        hold on
    elseif Tc(i) == 2 
        h = scatter3(P(1,i),P(2,i),P(3,i),50,'filled');
        h.CData = [0 0 0]; % 黑色
        hold on
    elseif Tc(i) == 3
        h = scatter3(P(1,i),P(2,i),P(3,i),50,'filled');
        h.CData = [0 0 1]; % 蓝色是第三类
        hold on
    elseif Tc(i) == 4
        h = scatter3(P(1,i),P(2,i),P(3,i),50,'filled');
        h.CData = [0 1 1]; %浅色是第四类
        hold on
    end
end

% 预测的分类
for i = 1 : 22
    if T_test(i) == 1
        h = scatter3(P1(1,i),P1(2,i),P1(3,i),50,'*');
        h.CData = [1 0 0]; % 红色是第一类
        hold on
    elseif T_test(i) == 2 
        h = scatter3(P1(1,i),P1(2,i),P1(3,i),50,'*');
        h.CData = [0 0 0]; % 黑色
        hold on
    elseif T_test(i) == 3
        h = scatter3(P1(1,i),P1(2,i),P1(3,i),50,'*');
        h.CData = [0 0 1]; % 蓝色是第三类
        hold on
    elseif T_test(i) == 4
        h = scatter3(P1(1,i),P1(2,i),P1(3,i),50,'*');
        h.CData = [0 1 1]; %浅色是第四类
        hold on
    end
end

